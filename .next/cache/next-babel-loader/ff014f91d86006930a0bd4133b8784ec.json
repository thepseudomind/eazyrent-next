{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _getIterator from \"@babel/runtime-corejs2/core-js/get-iterator\";\nvar _jsxFileName = \"/Users/kenny/eazyrent/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport { useState } from 'react';\nimport Auth from '../components/Auth/Auth';\nimport Dashboard from '../components/Dashboard/Dashboard';\n\nvar App = function App(_ref) {\n  var listings = _ref.listings;\n\n  var _useState = useState(true),\n      user = _useState[0],\n      authStatus = _useState[1];\n\n  var logOut = function logOut() {\n    authStatus(false);\n  }; //GETTING NUMBER OF USER'S HOMES FOR OVERVIEW PAGE\n\n\n  var userListings = [];\n\n  var _useState2 = useState('abgfigu143668'),\n      testUser = _useState2[0];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = _getIterator(listings), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var listing = _step.value;\n\n      if (listing.user === testUser) {\n        userListings.push(listing);\n      }\n    } //GETTING NUMBER OF USER'S LIKES FOR OVERVIEW PAGE\n\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var housesLiked = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = _getIterator(listings), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _listing = _step2.value;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = _getIterator(_listing.likes), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var likes = _step3.value;\n\n          if (likes === \"abgfigu143668\") {\n            housesLiked.push(_listing);\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, user ? __jsx(Dashboard, {\n    pageTitle: \"Dashboard - EazyRent\",\n    route: \"main\",\n    numberOfLikes: housesLiked.length,\n    numberOfHomes: userListings.length,\n    logout: logOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }) : __jsx(Auth, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }));\n};\n\nApp.getInitialProps = function _callee() {\n  var res, data;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('http/localhost:3004/listings'));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          data = _context.sent;\n          return _context.abrupt(\"return\", {\n            listings: data\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/kenny/eazyrent/pages/index.js"],"names":["fetch","useState","Auth","Dashboard","App","listings","user","authStatus","logOut","userListings","testUser","listing","push","housesLiked","likes","length","getInitialProps","res","json","data"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,SAAP,MAAsB,mCAAtB;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM,OAAc;AAAA,MAAZC,QAAY,QAAZA,QAAY;;AAAA,kBACKJ,QAAQ,CAAC,IAAD,CADb;AAAA,MACfK,IADe;AAAA,MACTC,UADS;;AAGtB,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAI;AACfD,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAFD,CAHsB,CAOtB;;;AACA,MAAME,YAAY,GAAG,EAArB;;AARsB,mBASHR,QAAQ,CAAC,eAAD,CATL;AAAA,MASfS,QATe;;AAAA;AAAA;AAAA;;AAAA;AAWtB,sCAAsBL,QAAtB,4GAAgC;AAAA,UAArBM,OAAqB;;AAC5B,UAAGA,OAAO,CAACL,IAAR,KAAiBI,QAApB,EAA6B;AACzBD,QAAAA,YAAY,CAACG,IAAb,CAAkBD,OAAlB;AACH;AACJ,KAfqB,CAiBtB;;AAjBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAkBtB,MAAME,WAAW,GAAG,EAApB;AAlBsB;AAAA;AAAA;;AAAA;AAmBtB,uCAAsBR,QAAtB,iHAAgC;AAAA,UAArBM,QAAqB;AAAA;AAAA;AAAA;;AAAA;AAC5B,2CAAoBA,QAAO,CAACG,KAA5B,iHAAmC;AAAA,cAAxBA,KAAwB;;AAC/B,cAAGA,KAAK,KAAK,eAAb,EAA6B;AACzBD,YAAAA,WAAW,CAACD,IAAZ,CAAiBD,QAAjB;AACH;AACJ;AAL2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM/B;AAzBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA2BtB,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACML,IAAD,GAAS,MAAC,SAAD;AAAW,IAAA,SAAS,EAAC,sBAArB;AAA4C,IAAA,KAAK,EAAC,MAAlD;AAAyD,IAAA,aAAa,EAAEO,WAAW,CAACE,MAApF;AAA4F,IAAA,aAAa,EAAEN,YAAY,CAACM,MAAxH;AAAgI,IAAA,MAAM,EAAEP,MAAxI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAT,GAA6J,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADlK,CADJ;AAKH,CAhCD;;AAkCAJ,GAAG,CAACY,eAAJ,GAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACAhB,KAAK,CAAC,8BAAD,CADL;;AAAA;AACZiB,UAAAA,GADY;AAAA;AAAA,2CAECA,GAAG,CAACC,IAAJ,EAFD;;AAAA;AAEZC,UAAAA,IAFY;AAAA,2CAIX;AACHd,YAAAA,QAAQ,EAAEc;AADP,WAJW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB;;AASA,eAAef,GAAf","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport { useState } from 'react';\nimport Auth from '../components/Auth/Auth';\nimport Dashboard from '../components/Dashboard/Dashboard';\n\nconst App = ({listings})=>{\n    const [user, authStatus] = useState(true);\n\n    const logOut = ()=>{\n        authStatus(false);\n    }\n\n    //GETTING NUMBER OF USER'S HOMES FOR OVERVIEW PAGE\n    const userListings = [];\n    const [testUser] = useState('abgfigu143668');\n\n    for (const listing of listings) {\n        if(listing.user === testUser){\n            userListings.push(listing);\n        }\n    }\n\n    //GETTING NUMBER OF USER'S LIKES FOR OVERVIEW PAGE\n    const housesLiked = [];\n    for (const listing of listings) {\n        for (const likes of listing.likes) {\n            if(likes === \"abgfigu143668\"){\n                housesLiked.push(listing);\n            }\n        }\n    }\n\n    return (\n        <div>\n            {(user) ? <Dashboard pageTitle=\"Dashboard - EazyRent\" route=\"main\" numberOfLikes={housesLiked.length} numberOfHomes={userListings.length} logout={logOut}/> : <Auth/>}\n        </div>\n    );\n}\n\nApp.getInitialProps = async()=>{\n    const res = await fetch('http/localhost:3004/listings');\n    const data = await res.json();\n\n    return {\n        listings: data\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}