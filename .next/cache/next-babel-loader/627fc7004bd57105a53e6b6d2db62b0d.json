{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _getIterator from \"@babel/runtime-corejs2/core-js/get-iterator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { PAGEROUTE, ADDTOBANK, CHANGEFORM, RESETALERTBOX, RETRIEVESTATE, EDITBANK, OVERWRITEBANK, DELETEBANK } from \"../constants/constants\";\nimport { Bank } from '../types/types';\nvar initialRoute = {\n  route: 'listing'\n};\nexport var routeReducer = function routeReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialRoute;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (action.type) {\n    case PAGEROUTE:\n      return _objectSpread({}, state, {\n        route: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\nvar initialBanks = {\n  form: '',\n  alert: '',\n  banks: [],\n  // new Bank('Sterling Bank', '2357810094', 'current', '256092341625', 'verified')\n  bankToEdit: ''\n};\nexport var bankReducers = function bankReducers() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialBanks;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (action.type) {\n    case RETRIEVESTATE:\n      return _objectSpread({}, state, {}, action.payload);\n\n    case ADDTOBANK:\n      //If bank is already in list\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _getIterator(state.banks), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var bank = _step.value;\n\n          if (bank.account === action.payload.account) {\n            console.log('Bank already added');\n            return _objectSpread({}, state, {\n              alert: 'Bank already added'\n            });\n          }\n        } //Only allow 3 banks to be added at a given time\n\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (state.banks.length >= 3) {\n        console.log('You cannot add any more banks');\n        return _objectSpread({}, state, {\n          alert: 'Maximum of 3 banks allowed'\n        });\n      } else {\n        localStorage.setItem('bank', _JSON$stringify(_objectSpread({}, state, {\n          form: '',\n          banks: [].concat(_toConsumableArray(state.banks), [action.payload])\n        }))); //Persisting bank changes in localstorage\n\n        return _objectSpread({}, state, {\n          banks: [].concat(_toConsumableArray(state.banks), [action.payload])\n        });\n      }\n\n    case EDITBANK:\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = _getIterator(state.banks), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _bank = _step2.value;\n\n          if (_bank.id === _parseInt(action.payload)) {\n            return _objectSpread({}, state, {\n              bankToEdit: _bank\n            });\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return state;\n\n    case OVERWRITEBANK:\n      var newBanks;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = _getIterator(state.banks), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _bank2 = _step3.value;\n\n          if (_bank2.id === _parseInt(action.payload.id)) {\n            var indexToChange = state.banks.indexOf(_bank2);\n            state.banks.splice(indexToChange, 1, action.payload);\n            newBanks = state.banks;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      localStorage.setItem('bank', _JSON$stringify(_objectSpread({}, state, {\n        form: '',\n        banks: newBanks\n      }))); //Persisting bank changes in localstorage\n\n      return _objectSpread({}, state, {\n        alert: 'Bank details changed',\n        banks: newBanks\n      });\n\n    case DELETEBANK:\n      var remainingBanks;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = _getIterator(state.banks), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _bank3 = _step4.value;\n\n          if (_bank3.id === _parseInt(action.payload)) {\n            var indexToDelete = state.banks.indexOf(_bank3);\n            state.banks.splice(indexToDelete, 1);\n            remainingBanks = state.banks;\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n            _iterator4[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      localStorage.setItem('bank', _JSON$stringify(_objectSpread({}, state, {\n        form: '',\n        banks: remainingBanks\n      }))); //Persisting bank changes in localstorage\n\n      return _objectSpread({}, state, {\n        alert: 'Bank deleted',\n        banks: remainingBanks\n      });\n\n    case RESETALERTBOX:\n      return _objectSpread({}, state, {\n        alert: action.payload\n      });\n\n    case CHANGEFORM:\n      return _objectSpread({}, state, {\n        form: action.payload\n      });\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/kenny/eazyrent/reducers/reducers.js"],"names":["PAGEROUTE","ADDTOBANK","CHANGEFORM","RESETALERTBOX","RETRIEVESTATE","EDITBANK","OVERWRITEBANK","DELETEBANK","Bank","initialRoute","route","routeReducer","state","action","type","payload","initialBanks","form","alert","banks","bankToEdit","bankReducers","bank","account","console","log","length","localStorage","setItem","id","newBanks","indexToChange","indexOf","splice","remainingBanks","indexToDelete"],"mappings":"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","sourcesContent":["import { PAGEROUTE, ADDTOBANK, CHANGEFORM, RESETALERTBOX, RETRIEVESTATE, EDITBANK, OVERWRITEBANK, DELETEBANK } from \"../constants/constants\";\nimport { Bank } from '../types/types';\n\nconst initialRoute = {\n    route: 'listing'\n}\n\nexport const routeReducer = (state = initialRoute, action = {}) =>{\n    switch (action.type) {\n        case PAGEROUTE:\n            return {...state, route: action.payload}\n    \n        default:\n            return state;\n    }\n}\n\n\nconst initialBanks = {\n    form : '',\n    alert : '',\n    banks: [], // new Bank('Sterling Bank', '2357810094', 'current', '256092341625', 'verified')\n    bankToEdit: ''\n}\n\nexport const bankReducers = (state = initialBanks, action={}) =>{\n    switch (action.type) {\n        case RETRIEVESTATE: \n            return {...state, ...action.payload};\n            \n        case ADDTOBANK:\n            //If bank is already in list\n            for (const bank of state.banks) {\n                if(bank.account === action.payload.account){\n                    console.log('Bank already added');\n                    return {...state, alert: 'Bank already added'};\n                }\n            }\n\n            //Only allow 3 banks to be added at a given time\n            if(state.banks.length >= 3){\n                console.log('You cannot add any more banks');\n                return {...state, alert: 'Maximum of 3 banks allowed'};\n            }else{\n                localStorage.setItem('bank', JSON.stringify({...state, form: '', banks: [...state.banks, action.payload]})); //Persisting bank changes in localstorage\n                return {...state, banks: [...state.banks, action.payload]};\n            }\n\n        case EDITBANK: \n            for (const bank of state.banks) {\n                if(bank.id === parseInt(action.payload)){\n                    return {...state, bankToEdit: bank};\n                }\n            }\n            return state;\n\n        case OVERWRITEBANK:\n            let newBanks;\n            for (const bank of state.banks) {\n                if(bank.id === parseInt(action.payload.id)){\n                    const indexToChange = state.banks.indexOf(bank);\n                    state.banks.splice(indexToChange, 1, action.payload);\n                    newBanks = state.banks;\n                }\n            }\n            localStorage.setItem('bank', JSON.stringify({...state, form: '', banks: newBanks})); //Persisting bank changes in localstorage\n            return {...state, alert: 'Bank details changed', banks: newBanks};\n\n        case DELETEBANK:\n                let remainingBanks;\n                for (const bank of state.banks) {\n                    if(bank.id === parseInt(action.payload)){\n                        const indexToDelete = state.banks.indexOf(bank);\n                        state.banks.splice(indexToDelete, 1);\n                        remainingBanks = state.banks;\n                    }\n                }\n                localStorage.setItem('bank', JSON.stringify({...state, form: '', banks: remainingBanks})); //Persisting bank changes in localstorage\n                return {...state, alert: 'Bank deleted', banks: remainingBanks};\n\n        case RESETALERTBOX:\n                return {...state, alert: action.payload};\n\n        case CHANGEFORM:\n            return {...state, form: action.payload};\n    \n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}