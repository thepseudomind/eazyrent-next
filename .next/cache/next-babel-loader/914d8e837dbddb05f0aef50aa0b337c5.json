{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"/Users/kenny/eazyrent/pages/add-listing.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Router from 'next/router';\nimport Dashboard from '../components/Dashboard/Dashboard';\n\nconst addlisting = () => {\n  //user: \"abgfigu143668\"\n  let imagesToBeUploaded = [];\n\n  const submitForm = async () => {\n    const dataToPost = {\n      user: \"j64ew0u143668\",\n      name: document.getElementById('title').value,\n      address: document.getElementById('address').value,\n      price: document.getElementById('price').value,\n      type: document.getElementById('payment').value,\n      city: document.getElementById('city').value,\n      state: document.getElementById('state').value,\n      beds: document.getElementById('beds').value,\n      baths: document.getElementById('baths').value,\n      description: document.getElementById('description').value,\n      images: imagesToBeUploaded,\n      likes: []\n    };\n    const res = await fetch('http://localhost:3004/listings', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: _JSON$stringify(dataToPost)\n    });\n    const data = await res.json();\n    console.log('Success', _JSON$stringify(data));\n    Router.push('/listings');\n  };\n\n  const getImages = images => {\n    imagesToBeUploaded = [];\n\n    for (const image of images) {\n      convertImages(image);\n    }\n  };\n\n  const convertImages = image => {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => {\n      imagesToBeUploaded.push(reader.result);\n    });\n    reader.readAsDataURL(image);\n  };\n\n  return __jsx(Dashboard, {\n    route: \"add-listing\",\n    addListing: submitForm,\n    getImages: getImages,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  });\n};\n\nexport default addlisting;","map":{"version":3,"sources":["/Users/kenny/eazyrent/pages/add-listing.js"],"names":["Router","Dashboard","addlisting","imagesToBeUploaded","submitForm","dataToPost","user","name","document","getElementById","value","address","price","type","city","state","beds","baths","description","images","likes","res","fetch","method","headers","body","data","json","console","log","push","getImages","image","convertImages","reader","FileReader","addEventListener","result","readAsDataURL"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,SAAP,MAAsB,mCAAtB;;AAEA,MAAMC,UAAU,GAAG,MAAI;AACnB;AACA,MAAIC,kBAAkB,GAAG,EAAzB;;AACA,QAAMC,UAAU,GAAG,YAAS;AACxB,UAAMC,UAAU,GAAG;AACfC,MAAAA,IAAI,EAAE,eADS;AAEfC,MAAAA,IAAI,EAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAFzB;AAGfC,MAAAA,OAAO,EAAEH,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAH7B;AAIfE,MAAAA,KAAK,EAAGJ,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAJ1B;AAKfG,MAAAA,IAAI,EAAGL,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAL3B;AAMfI,MAAAA,IAAI,EAAGN,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KANxB;AAOfK,MAAAA,KAAK,EAAGP,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAP1B;AAQfM,MAAAA,IAAI,EAAGR,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KARxB;AASfO,MAAAA,KAAK,EAAGT,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAT1B;AAUfQ,MAAAA,WAAW,EAAGV,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAVtC;AAWfS,MAAAA,MAAM,EAAGhB,kBAXM;AAYfiB,MAAAA,KAAK,EAAG;AAZO,KAAnB;AAeA,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,gCAAD,EAAmC;AACtDC,MAAAA,MAAM,EAAE,MAD8C;AAEtDC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF6C;AAKtDC,MAAAA,IAAI,EAAE,gBAAepB,UAAf;AALgD,KAAnC,CAAvB;AAOA,UAAMqB,IAAI,GAAG,MAAML,GAAG,CAACM,IAAJ,EAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,gBAAeH,IAAf,CAAvB;AAEA1B,IAAAA,MAAM,CAAC8B,IAAP,CAAY,WAAZ;AACH,GA3BD;;AA6BA,QAAMC,SAAS,GAAIZ,MAAD,IAAU;AACxBhB,IAAAA,kBAAkB,GAAG,EAArB;;AACA,SAAK,MAAM6B,KAAX,IAAoBb,MAApB,EAA4B;AAC1Bc,MAAAA,aAAa,CAACD,KAAD,CAAb;AACD;AACJ,GALD;;AAOA,QAAMC,aAAa,GAAID,KAAD,IAAS;AAC3B,UAAME,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,IAAAA,MAAM,CAACE,gBAAP,CAAwB,MAAxB,EAAgC,MAAI;AAChCjC,MAAAA,kBAAkB,CAAC2B,IAAnB,CAAwBI,MAAM,CAACG,MAA/B;AACH,KAFD;AAGAH,IAAAA,MAAM,CAACI,aAAP,CAAqBN,KAArB;AACH,GAND;;AAQA,SAAO,MAAC,SAAD;AAAW,IAAA,KAAK,EAAC,aAAjB;AAA+B,IAAA,UAAU,EAAE5B,UAA3C;AAAuD,IAAA,SAAS,EAAE2B,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACH,CAhDD;;AAkDA,eAAe7B,UAAf","sourcesContent":["import Router from 'next/router';\nimport Dashboard from '../components/Dashboard/Dashboard';\n\nconst addlisting = ()=>{\n    //user: \"abgfigu143668\"\n    let imagesToBeUploaded = [];\n    const submitForm = async()=>{\n        const dataToPost = {\n            user: \"j64ew0u143668\",\n            name : document.getElementById('title').value,\n            address: document.getElementById('address').value,\n            price : document.getElementById('price').value,\n            type : document.getElementById('payment').value,\n            city : document.getElementById('city').value,\n            state : document.getElementById('state').value,\n            beds : document.getElementById('beds').value,\n            baths : document.getElementById('baths').value,\n            description : document.getElementById('description').value,\n            images : imagesToBeUploaded,\n            likes : []\n        }\n\n        const res = await fetch('http://localhost:3004/listings', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(dataToPost)\n        });\n        const data = await res.json();\n        console.log('Success', JSON.stringify(data));\n\n        Router.push('/listings');\n    }\n\n    const getImages = (images)=>{\n        imagesToBeUploaded = [];\n        for (const image of images) {\n          convertImages(image);  \n        }\n    }\n\n    const convertImages = (image)=>{\n        const reader = new FileReader();\n        reader.addEventListener('load', ()=>{\n            imagesToBeUploaded.push(reader.result);\n        });\n        reader.readAsDataURL(image);\n    }\n\n    return <Dashboard route=\"add-listing\" addListing={submitForm} getImages={getImages}/>;\n}\n\nexport default addlisting;"]},"metadata":{},"sourceType":"module"}