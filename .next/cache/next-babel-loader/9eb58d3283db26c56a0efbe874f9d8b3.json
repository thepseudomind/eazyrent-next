{"ast":null,"code":"import _getIterator from \"@babel/runtime-corejs2/core-js/get-iterator\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"/Users/kenny/eazyrent/pages/add-listing.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Dashboard from '../components/Dashboard/Dashboard';\n\nvar addlisting = function addlisting() {\n  var imagesToBeUploaded = [];\n\n  var submitForm = function submitForm() {\n    var dataToPost, res, data;\n    return _regeneratorRuntime.async(function submitForm$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // const images = Array.from(document.getElementById('images').files);\n            // const imagesToBeUploaded = [];\n            // const reader = new FileReader();\n            // images.forEach(\n            //     (v, i)=>{\n            //         console.log(images[i]);\n            //         window.addEventListener('load', ()=>{\n            //             imagesToBeUploaded.push(reader.result);\n            //         });\n            //         reader.readAsBinaryString(images[i]);\n            //         console.log(imagesToBeUploaded);\n            //     }\n            // );\n            dataToPost = {\n              user: \"abgfigu143668\",\n              name: document.getElementById('title').value,\n              address: document.getElementById('address').value,\n              price: document.getElementById('price').value,\n              type: document.getElementById('payment').value,\n              city: document.getElementById('city').value,\n              state: document.getElementById('state').value,\n              beds: document.getElementById('beds').value,\n              baths: document.getElementById('baths').value,\n              images: imagesToBeUploaded\n            };\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch('http://localhost:3004/listings', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: _JSON$stringify(dataToPost)\n            }));\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 6:\n            data = _context.sent;\n            console.log('Success', _JSON$stringify(data));\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  var getImages = function getImages(image) {\n    console.log(image);\n    imagesToBeUploaded.push(image);\n    console.log(imagesToBeUploaded);\n  };\n\n  var deleteImagesFromUpload = function deleteImagesFromUpload(image) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = _getIterator(imagesToBeUploaded), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var img = _step.value;\n\n        if (img === image) {\n          var index = imagesToBeUploaded.indexOf(img);\n          imagesToBeUploaded.splice(index, 1);\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  };\n\n  return __jsx(Dashboard, {\n    route: \"add-listing\",\n    addListing: submitForm,\n    getImages: getImages,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  });\n};\n\nexport default addlisting;","map":{"version":3,"sources":["/Users/kenny/eazyrent/pages/add-listing.js"],"names":["Dashboard","addlisting","imagesToBeUploaded","submitForm","dataToPost","user","name","document","getElementById","value","address","price","type","city","state","beds","baths","images","fetch","method","headers","body","res","json","data","console","log","getImages","image","push","deleteImagesFromUpload","img","index","indexOf","splice"],"mappings":";;;;;;AAAA,OAAOA,SAAP,MAAsB,mCAAtB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAI;AACnB,MAAMC,kBAAkB,GAAG,EAA3B;;AACA,MAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AACf;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEMC,YAAAA,UAhBS,GAgBI;AACfC,cAAAA,IAAI,EAAE,eADS;AAEfC,cAAAA,IAAI,EAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAFzB;AAGfC,cAAAA,OAAO,EAAEH,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAH7B;AAIfE,cAAAA,KAAK,EAAGJ,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAJ1B;AAKfG,cAAAA,IAAI,EAAGL,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAL3B;AAMfI,cAAAA,IAAI,EAAGN,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KANxB;AAOfK,cAAAA,KAAK,EAAGP,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAP1B;AAQfM,cAAAA,IAAI,EAAGR,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KARxB;AASfO,cAAAA,KAAK,EAAGT,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAT1B;AAUfQ,cAAAA,MAAM,EAAGf;AAVM,aAhBJ;AAAA;AAAA,6CA6BGgB,KAAK,CAAC,gCAAD,EAAmC;AACtDC,cAAAA,MAAM,EAAE,MAD8C;AAEtDC,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX,eAF6C;AAKtDC,cAAAA,IAAI,EAAE,gBAAejB,UAAf;AALgD,aAAnC,CA7BR;;AAAA;AA6BTkB,YAAAA,GA7BS;AAAA;AAAA,6CAoCIA,GAAG,CAACC,IAAJ,EApCJ;;AAAA;AAoCTC,YAAAA,IApCS;AAqCfC,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,gBAAeF,IAAf,CAAvB;;AArCe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAwCA,MAAMG,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAS;AACvBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACA1B,IAAAA,kBAAkB,CAAC2B,IAAnB,CAAwBD,KAAxB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYxB,kBAAZ;AACH,GAJD;;AAMA,MAAM4B,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACF,KAAD,EAAS;AAAA;AAAA;AAAA;;AAAA;AACpC,wCAAkB1B,kBAAlB,4GAAsC;AAAA,YAA3B6B,GAA2B;;AAClC,YAAGA,GAAG,KAAKH,KAAX,EAAiB;AACb,cAAMI,KAAK,GAAG9B,kBAAkB,CAAC+B,OAAnB,CAA2BF,GAA3B,CAAd;AACA7B,UAAAA,kBAAkB,CAACgC,MAAnB,CAA0BF,KAA1B,EAAiC,CAAjC;AACH;AACJ;AANmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOvC,GAPD;;AASA,SAAO,MAAC,SAAD;AAAW,IAAA,KAAK,EAAC,aAAjB;AAA+B,IAAA,UAAU,EAAE7B,UAA3C;AAAuD,IAAA,SAAS,EAAEwB,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACH,CA1DD;;AA4DA,eAAe1B,UAAf","sourcesContent":["import Dashboard from '../components/Dashboard/Dashboard';\n\nconst addlisting = ()=>{\n    const imagesToBeUploaded = [];\n    const submitForm = async()=>{\n        // const images = Array.from(document.getElementById('images').files);\n        // const imagesToBeUploaded = [];\n        // const reader = new FileReader();\n\n        // images.forEach(\n        //     (v, i)=>{\n        //         console.log(images[i]);\n        //         window.addEventListener('load', ()=>{\n        //             imagesToBeUploaded.push(reader.result);\n        //         });\n        //         reader.readAsBinaryString(images[i]);\n        //         console.log(imagesToBeUploaded);\n        //     }\n        // );\n\n        const dataToPost = {\n            user: \"abgfigu143668\",\n            name : document.getElementById('title').value,\n            address: document.getElementById('address').value,\n            price : document.getElementById('price').value,\n            type : document.getElementById('payment').value,\n            city : document.getElementById('city').value,\n            state : document.getElementById('state').value,\n            beds : document.getElementById('beds').value,\n            baths : document.getElementById('baths').value,\n            images : imagesToBeUploaded\n        }\n\n        const res = await fetch('http://localhost:3004/listings', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(dataToPost)\n        });\n        const data = await res.json();\n        console.log('Success', JSON.stringify(data));\n    }\n\n    const getImages = (image)=>{\n        console.log(image);\n        imagesToBeUploaded.push(image);\n        console.log(imagesToBeUploaded);\n    }\n\n    const deleteImagesFromUpload = (image)=>{\n        for (const img of imagesToBeUploaded) {\n            if(img === image){\n                const index = imagesToBeUploaded.indexOf(img);\n                imagesToBeUploaded.splice(index, 1);\n            }\n        }\n    }\n\n    return <Dashboard route=\"add-listing\" addListing={submitForm} getImages={getImages}/>;\n}\n\nexport default addlisting;"]},"metadata":{},"sourceType":"module"}