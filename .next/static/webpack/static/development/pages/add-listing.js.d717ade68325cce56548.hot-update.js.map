{"version":3,"file":"static/webpack/static/development/pages/add-listing.js.d717ade68325cce56548.hot-update.js","sources":["webpack:///./pages/add-listing.js"],"sourcesContent":["import Router from 'next/router';\nimport Dashboard from '../components/Dashboard/Dashboard';\n\nconst addlisting = ()=>{\n    //user: \"abgfigu143668\"\n    let imagesToBeUploaded = [];\n    const submitForm = async()=>{\n        const dataToPost = {\n            user: \"j64ew0u143668\",\n            name : document.getElementById('title').value,\n            address: document.getElementById('address').value,\n            price : document.getElementById('price').value,\n            type : document.getElementById('payment').value,\n            city : document.getElementById('city').value,\n            state : document.getElementById('state').value,\n            beds : document.getElementById('beds').value,\n            baths : document.getElementById('baths').value,\n            description : document.getElementById('description').value,\n            images : imagesToBeUploaded,\n            likes : []\n        }\n\n        const res = await fetch('http://localhost:3004/listings', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(dataToPost)\n        });\n        const data = await res.json();\n        console.log('Success', JSON.stringify(data));\n\n        Router.push('/listings');\n    }\n\n    const getImages = (images)=>{\n        imagesToBeUploaded = [];\n        for (const image of images) {\n          convertImages(image);  \n        }\n    }\n\n    const convertImages = (image)=>{\n        const reader = new FileReader();\n        reader.addEventListener('load', ()=>{\n            imagesToBeUploaded.push(reader.result);\n        });\n        reader.readAsDataURL(image);\n    }\n\n    return <Dashboard route=\"add-listing\" addListing={submitForm} getImages={getImages}/>;\n}\n\nexport default addlisting;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AADA;AAAA;AAiBA;AACA;AACA;AADA;AAGA;AALA;AACA;AAjBA;AAgBA;AAhBA;AAAA;AACA;AADA;AAuBA;AACA;AAEA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA4BA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;A","sourceRoot":""}