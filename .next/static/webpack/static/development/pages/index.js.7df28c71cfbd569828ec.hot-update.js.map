{"version":3,"file":"static/webpack/static/development/pages/index.js.7df28c71cfbd569828ec.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport { useState } from 'react';\nimport Auth from '../components/Auth/Auth';\nimport Dashboard from '../components/Dashboard/Dashboard';\n\nconst App = ({listings})=>{\n    const [user, authStatus] = useState(true);\n\n    const logOut = ()=>{\n        authStatus(false);\n    }\n\n    //GETTING NUMBER OF USER'S HOMES FOR OVERVIEW PAGE\n    const userListings = [];\n    const [testUser] = useState('abgfigu143668');\n\n    for (const listing of listings) {\n        if(listing.user === testUser){\n            userListings.push(listing);\n        }\n    }\n\n    //GETTING NUMBER OF USER'S LIKES FOR OVERVIEW PAGE\n    const housesLiked = [];\n    for (const listing of listings) {\n        for (const likes of listing.likes) {\n            if(likes === \"abgfigu143668\"){\n                housesLiked.push(listing);\n            }\n        }\n    }\n\n    return (\n        <div>\n            {(user) ? <Dashboard pageTitle=\"Dashboard - EazyRent\" route=\"main\" numberOfLikes={housesLiked.length} numberOfHomes={userListings.length} logout={logOut}/> : <Auth/>}\n        </div>\n    );\n}\n\nApp.getInitialProps = async()=>{\n    const res = await fetch('http://localhost:3004/listings');\n    const data = await res.json();\n\n    return {\n        listings: data\n    }\n}\n\nexport default App;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAWA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AAlBA;AAAA;AAAA;AACA;AADA;AAmBA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA0BA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAKA;AADA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;;;;A","sourceRoot":""}